â— ì•Œê² ìŠµë‹ˆë‹¤! ìƒì„¸í•˜ê²Œ ì„¤ëª…ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

  ğŸ“‹ ì „ì²´ ì‹¤í–‰ ê°€ì´ë“œ

  1ë‹¨ê³„: í™˜ê²½ ì¤€ë¹„

  cd /data/project/atwoddl/Hackathon

  # uploads í´ë”ì— PDF íŒŒì¼ ë„£ê¸°
  cp /path/to/your/introduce.pdf uploads/introduce.pdf

  # ë˜ëŠ” í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œ ê¸°ì¡´ PDF ë³µì‚¬
  cp PDF_Reader/test.pdf uploads/introduce.pdf

  # íŒŒì¼ í™•ì¸
  ls -la uploads/

  2ë‹¨ê³„: ì„œë¹„ìŠ¤ ì‹œì‘ (Docker Compose ì‚¬ìš©)

  # .env íŒŒì¼ì´ ìˆëŠ”ì§€ í™•ì¸ (ì´ë¯¸ ìƒì„±ë˜ì–´ ìˆìŒ)
  cat .env

  # Docker Composeë¡œ ëª¨ë“  ì„œë¹„ìŠ¤ ì‹œì‘
  docker compose up --build

  # ë˜ëŠ” ë°±ê·¸ë¼ìš´ë“œë¡œ ì‹¤í–‰
  docker compose up -d --build

  ë¹Œë“œ ì‹œê°„:
  - PDF_Reader, Question_generator, Voice_Analysis: 1-2ë¶„
  - Face_Analysis: 5-10ë¶„ (py-feat ì„¤ì¹˜ ë•Œë¬¸ì— ì˜¤ë˜ ê±¸ë¦¼)
  - Admin: 2-3ë¶„

  3ë‹¨ê³„: ì„œë¹„ìŠ¤ í™•ì¸

  ìƒˆ í„°ë¯¸ë„ì„ ì—´ê³ :

  # ëª¨ë“  ì„œë¹„ìŠ¤ í—¬ìŠ¤ì²´í¬
  echo "=== PDF Reader ==="
  curl http://localhost:8001/health

  echo "=== Question Generator ==="
  curl http://localhost:8002/health

  echo "=== Face Analysis ==="
  curl http://localhost:8003/health

  echo "=== Voice Analysis ==="
  curl http://localhost:8004/health

  echo "=== Admin ==="
  curl http://localhost:8000/health

  ëª¨ë‘ {"status":"ok"}ë¥¼ ë°˜í™˜í•˜ë©´ ì¤€ë¹„ ì™„ë£Œ! âœ…

  4ë‹¨ê³„: ì›Œí¬í”Œë¡œìš° ì‹œì‘

  # introduce.pdfë¡œ ì›Œí¬í”Œë¡œìš° ì‹œì‘
  curl -X POST http://localhost:8000/start \
    -H "Content-Type: application/json" \
    -d '{"pdf_path": "/app/uploads/introduce.pdf"}' \
    | jq

  # ì‘ë‹µì—ì„œ session_id ë³µì‚¬í•´ë‘ê¸°
  # ì˜ˆ: "session_id": "550e8400-e29b-41d4-a716-446655440000"

  ì‘ë‹µ ì˜ˆì‹œ:
  {
    "session_id": "550e8400-e29b-41d4-a716-446655440000",
    "status": "created",
    "message": "Workflow started. Use /status/{session_id} to check progress."
  }

  5ë‹¨ê³„: LangSmithì—ì„œ ì‹¤ì‹œê°„ í™•ì¸ ğŸ‰

  1. ë¸Œë¼ìš°ì € ì—´ê¸°: https://smith.langchain.com/
  2. ë¡œê·¸ì¸ (ì´ë¯¸ ë˜ì–´ìˆì„ ê²ƒ)
  3. Projects í´ë¦­ â†’ hackathon-interview-analysis ì„ íƒ
  4. ì‹¤ì‹œê°„ ì‹¤í–‰ ë³´ê¸°:
    - ê°€ì¥ ìµœê·¼ ì‹¤í–‰ì´ ë§¨ ìœ„ì— í‘œì‹œë¨
    - í´ë¦­í•˜ë©´ ê·¸ë˜í”„ ì‹œê°í™” ë‚˜íƒ€ë‚¨
  5. ë³´ì´ëŠ” ê²ƒ:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ pdf_extract â”‚ âœ… ì‹¤í–‰ ì™„ë£Œ (3.2ì´ˆ)
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
         â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚question_generate â”‚ âœ… ì‹¤í–‰ ì™„ë£Œ (5.1ì´ˆ)
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚wait_for_upload   â”‚ âœ… ì‹¤í–‰ ì™„ë£Œ (0.1ì´ˆ)
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ face_analysis    â”‚ ğŸ”´ INTERRUPTED (ëŒ€ê¸° ì¤‘)
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  6. ê° ë…¸ë“œ í´ë¦­í•˜ë©´ ë³¼ ìˆ˜ ìˆëŠ” ê²ƒ:
    - Input: ë…¸ë“œë¡œ ë“¤ì–´ì˜¨ ë°ì´í„°
    - Output: ë…¸ë“œì—ì„œ ë‚˜ê°„ ë°ì´í„°
    - Execution Time: ì‹¤í–‰ ì‹œê°„
    - Logs: ì—ëŸ¬ ë©”ì‹œì§€ (ìˆë‹¤ë©´)

  6ë‹¨ê³„: ì§„í–‰ ìƒí™© í™•ì¸ (API)

  # session_idë¥¼ ì—¬ê¸°ì— ë„£ê¸°
  SESSION_ID="550e8400-e29b-41d4-a716-446655440000"

  curl http://localhost:8000/status/$SESSION_ID | jq

  ì‘ë‹µ ì˜ˆì‹œ:
  {
    "session_id": "550e8400-e29b-41d4-a716-446655440000",
    "status": "waiting_for_upload",
    "pdf_path": "/app/uploads/introduce.pdf",
    "questions": [
      {
        "question": "ê·€í•˜ì˜ ì£¼ìš” ê¸°ìˆ  ìŠ¤íƒê³¼ ê²½í—˜ì€ ë¬´ì—‡ì¸ê°€ìš”?",
        "intent": "ê¸°ìˆ ì  ì—­ëŸ‰ íŒŒì•…"
      },
      {
        "question": "ê°€ì¥ ì–´ë ¤ì› ë˜ í”„ë¡œì íŠ¸ ê²½í—˜ì„ ë§ì”€í•´ì£¼ì„¸ìš”.",
        "intent": "ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ í‰ê°€"
      },
      {
        "question": "íŒ€ í”„ë¡œì íŠ¸ì—ì„œ ì–´ë–¤ ì—­í• ì„ ì£¼ë¡œ ë§¡ìœ¼ì…¨ë‚˜ìš”?",
        "intent": "í˜‘ì—… ëŠ¥ë ¥ í™•ì¸"
      }
    ],
    "video_path": null,
    "audio_path": null,
    "error_message": null
  }

  ì´ ì‹œì ì—ì„œ ì›Œí¬í”Œë¡œìš°ëŠ” face_analysis ì§ì „ì—ì„œ ë©ˆì¶°ìˆìŠµë‹ˆë‹¤! ğŸ›‘

  7ë‹¨ê³„: ë¹„ë””ì˜¤/ì˜¤ë””ì˜¤ ì—…ë¡œë“œ

  # í…ŒìŠ¤íŠ¸ìš© ë¹„ë””ì˜¤ íŒŒì¼ ì—…ë¡œë“œ
  curl -X POST http://localhost:8000/upload/$SESSION_ID \
    -F "video=@Face_Analysis/face_test.mp4" \
    | jq

  # ë˜ëŠ” ë‘˜ ë‹¤ ì—…ë¡œë“œ
  curl -X POST http://localhost:8000/upload/$SESSION_ID \
    -F "video=@Face_Analysis/face_test.mp4" \
    -F "audio=@/path/to/audio.wav" \
    | jq

  ì—…ë¡œë“œ ì¦‰ì‹œ:
  - ë°±ì—”ë“œì—ì„œ continue_workflow() ìë™ í˜¸ì¶œ
  - LangSmithì—ì„œ ì›Œí¬í”Œë¡œìš° ì¬ê°œë˜ëŠ” ê²ƒì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆìŒ!

  8ë‹¨ê³„: LangSmithì—ì„œ ì¬ê°œëœ ì›Œí¬í”Œë¡œìš° í™•ì¸

  LangSmith í™”ë©´:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ face_analysis    â”‚ ğŸŸ¢ ì‹¤í–‰ ì¤‘... (30ì´ˆ ì†Œìš”)
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ voice_analysis   â”‚ â³ ëŒ€ê¸° ì¤‘
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚    complete      â”‚ â³ ëŒ€ê¸° ì¤‘
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ê° ë…¸ë“œê°€ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤!

  9ë‹¨ê³„: ìµœì¢… ê²°ê³¼ í™•ì¸

  # ì™„ë£Œë  ë•Œê¹Œì§€ ìƒíƒœ í™•ì¸ (ëª‡ ì´ˆë§ˆë‹¤ ë°˜ë³µ)
  watch -n 2 "curl -s http://localhost:8000/status/$SESSION_ID | jq '.status'"

  # ë˜ëŠ” í•œ ë²ˆë§Œ í™•ì¸
  curl http://localhost:8000/status/$SESSION_ID | jq

  ìµœì¢… ì‘ë‹µ:
  {
    "session_id": "550e8400-...",
    "status": "completed",
    "pdf_path": "/app/uploads/introduce.pdf",
    "video_path": "/app/uploads/550e8400-..._video.mp4",
    "audio_path": null,
    "questions": [...],
    "error_message": null
  }

  10ë‹¨ê³„: LangSmithì—ì„œ ì „ì²´ ì‹¤í–‰ ë¦¬ë·°

  LangSmithì—ì„œ ì™„ë£Œëœ ì›Œí¬í”Œë¡œìš° í´ë¦­:

  1. Timeline View: ê° ë…¸ë“œ ì‹¤í–‰ ì‹œê°„ ì‹œê°í™”
  2. Tree View: ê³„ì¸µ êµ¬ì¡°ë¡œ ë³´ê¸°
  3. ê° ë…¸ë“œ ìƒì„¸ ì •ë³´:
    - pdf_extract: ì¶”ì¶œëœ í…ìŠ¤íŠ¸ í™•ì¸
    - question_generate: OpenAI ì‘ë‹µ í™•ì¸
    - face_analysis: ê°ì • ë¶„ì„ ê²°ê³¼
    - voice_analysis: ìŒì„± ë¶„ì„ ê²°ê³¼

  ---
  ğŸ¯ ì „ì²´ ê³¼ì • ìš”ì•½

  # 1. ì„œë¹„ìŠ¤ ì‹œì‘
  docker-compose up -d --build

  # 2. í—¬ìŠ¤ì²´í¬
  curl http://localhost:8000/health

  # 3. ì›Œí¬í”Œë¡œìš° ì‹œì‘
  curl -X POST http://localhost:8000/start \
    -H "Content-Type: application/json" \
    -d '{"pdf_path": "/app/uploads/introduce.pdf"}'

  # 4. LangSmithì—ì„œ í™•ì¸
  # â†’ https://smith.langchain.com/ ì ‘ì†

  # 5. íŒŒì¼ ì—…ë¡œë“œ
  curl -X POST http://localhost:8000/upload/{SESSION_ID} \
    -F "video=@Face_Analysis/face_test.mp4"

  # 6. LangSmithì—ì„œ ì¬ê°œë˜ëŠ” ê²ƒ í™•ì¸
  # â†’ ì‹¤ì‹œê°„ìœ¼ë¡œ face_analysis â†’ voice_analysis ì‹¤í–‰

  # 7. ê²°ê³¼ í™•ì¸
  curl http://localhost:8000/status/{SESSION_ID}

  ---
  ğŸ“Š LangSmithì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” ìƒì„¸ ì •ë³´

  1. pdf_extract ë…¸ë“œ

  Input:
  {
    "session_id": "550e8400-...",
    "pdf_path": "/app/uploads/introduce.pdf"
  }

  Output:
  {
    "extraction_data": {
      "total_pages": 2,
      "pages": [
        {"page_number": 1, "text": "ì´ë¦„: í™ê¸¸ë™\nê²½ë ¥: ..."},
        {"page_number": 2, "text": "í•™ë ¥: ...\nê¸°ìˆ : ..."}
      ]
    }
  }

  2. question_generate ë…¸ë“œ

  Input:
  {
    "extraction_data": {...}
  }

  Output:
  {
    "questions": [
      {"question": "...", "intent": "..."},
      {"question": "...", "intent": "..."},
      {"question": "...", "intent": "..."}
    ]
  }

  3. Interrupt ì§€ì 

  Status: INTERRUPTED
  Message: "Waiting for human input before 'face_analysis'"
  Next Node: face_analysis

  4. face_analysis ë…¸ë“œ (ì¬ê°œ í›„)

  Input:
  {
    "session_id": "550e8400-...",
    "video_path": "/app/uploads/550e8400-..._video.mp4"
  }

  Output:
  {
    "face_result": {
      "summary": {
        "average_emotions": {
          "emotion_happiness": 0.65,
          "emotion_neutral": 0.25,
          ...
        }
      }
    }
  }

  ---
  ğŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

  ì„œë¹„ìŠ¤ê°€ ì•ˆ ëœ¨ë©´

  # ë¡œê·¸ í™•ì¸
  docker-compose logs admin
  docker-compose logs pdf_reader

  # íŠ¹ì • ì„œë¹„ìŠ¤ ì¬ì‹œì‘
  docker-compose restart admin

  LangSmithì— ì•ˆ ë³´ì´ë©´

  # í™˜ê²½ë³€ìˆ˜ í™•ì¸
  docker-compose exec admin env | grep LANGCHAIN

  # ì¶œë ¥ë˜ì–´ì•¼ í•  ê²ƒ:
  # LANGCHAIN_TRACING_V2=true
  # LANGCHAIN_API_KEY=lsv2_pt_...

  PDF ì½ê¸° ì‹¤íŒ¨ ì‹œ

  # íŒŒì¼ ê²½ë¡œ í™•ì¸
  docker-compose exec admin ls -la /app/uploads/

  # ê¶Œí•œ í™•ì¸
  docker-compose exec admin stat /app/uploads/introduce.pd